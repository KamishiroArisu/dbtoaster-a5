\section{Conclusion}
We presented \compiler, a query compilation framework that aggressively compiles
SQL aggregate queries to C++ code through the use of a novel recursive
compilation algorithm. We consider continuous aggregate queries in the context
of stream processing, but unlike existing works on stream processing, support
query evaluation over an arbitrary database subject to any pattern of
updates. \compiler\ represents queries in a map calculus where formulae
correspond to map data structures with parameters according to free and bound
variables. We presented our recursive compilation algorithm as a set of
transformations and simplifications of calculus formulae.
The key features of recursive compilation include the consideration of deltas to
query input relations, to construct incremental map maintenance terms, and the
fact that these terms get progressively simpler as combinations of deltas are
applied. The code resulting from compilation performs tuple-at-a-time
processing, and consists solely of very simple map update statements in addition
to computing query results using maps.

This code is extremely lightweight and efficient, and in our experimental
evaluation, shows 1-4 orders of magnitude performance improvement for update
stream processing and view maintenance over both classical view maintenance
algorithms and naive recomputation as performed by compiled versions of today's
query processing algorithms. Indeed the comparison to actual database systems
shows an even larger gap.  In fact both the view maintenance and standard
processing styles can be seen as special cases of recursive compilation,
suggesting that recursively compiled queries can span a range of continuous
query processing and incremental computation needs, and may present an answer on
how to bridge stream and ad-hoc query processing engines. There are many
potential topics in this relatively unexplored area of query compilation,
embedded query processing, and database engine generation for specialized
domains. Some of the topics we are looking at include extracting parallelism for
multi-core operation, and distributing query processing and map maintenance to
cloud computing environments.