#!/bin/bash

BASEDIR=`dirname $0`
LAUNCHERS=$BASEDIR/launchers.list

for i in $(awk '{print $1}' $LAUNCHERS); do
if [ "bin/$i.sh" -ot "$0" -o "bin/$i.sh" -ot "$LAUNCHERS" ] ; then
echo Creating bin/$i.sh
sed "s#--CLASSPATH--#$1#; s#--CLASS--#$(grep $i $LAUNCHERS | awk '{print $2}')#" > bin/$i.sh << EOF
################# BEGIN AUTOGENERATED LAUNCHER SCRIPT #################
JAVA_CMD="java -cp --CLASSPATH--:\$(dirname \$0)/../src/ruby:\$(dirname \$0) --CLASS-- \$(dirname \$0)/../local.properties \$*"

echo ========================
echo \$JAVA_CMD
echo ========================
\$JAVA_CMD
################# END AUTOGENERATED LAUNCHER SCRIPT #################
EOF
chmod +x bin/$i.sh
fi
done
