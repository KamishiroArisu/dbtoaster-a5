

############ Put Templates
template 1 PART	P__P_PARTKEY;P__P_MFGR;P__P_TYPE;P__P_SIZE;P__P_CONTAINER;P__P_RETAILPRICE	Map 1[S__S_NATIONKEY]		((P__P_RETAILPRICE)*(Map 2[P__P_PARTKEY,S__S_NATIONKEY]))+((-1)*(Map 3[P__P_PARTKEY,S__S_NATIONKEY]))
template 2 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 1[S__S_NATIONKEY]		(((Map 4[PS__PS_PARTKEY])*(PS__PS_AVAILQTY))*(Map 5[PS__PS_SUPPKEY,S__S_NATIONKEY]))+(((((-1)*(PS__PS_SUPPLYCOST))*(PS__PS_AVAILQTY))*(Map 6[PS__PS_PARTKEY]))*(Map 5[PS__PS_SUPPKEY,S__S_NATIONKEY]))
template 3 SUPPLIER	S__S_SUPPKEY;S__S_NATIONKEY	Map 1[S__S_NATIONKEY]		(Map 7[S__S_SUPPKEY])+((-1)*(Map 8[S__S_SUPPKEY]))
template 4 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 2[PS__PS_PARTKEY,S__S_NATIONKEY]		(PS__PS_AVAILQTY)*(Map 5[PS__PS_SUPPKEY,S__S_NATIONKEY])
template 5 SUPPLIER	S__S_SUPPKEY;S__S_NATIONKEY	Map 2[x_qPART_P__P_PARTKEY,S__S_NATIONKEY]		Map 9[x_qPART_P__P_PARTKEY,S__S_SUPPKEY]
template 6 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 9[PS__PS_PARTKEY,PS__PS_SUPPKEY]		PS__PS_AVAILQTY
template 7 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 3[PS__PS_PARTKEY,S__S_NATIONKEY]		((PS__PS_SUPPLYCOST)*(PS__PS_AVAILQTY))*(Map 5[PS__PS_SUPPKEY,S__S_NATIONKEY])
template 8 SUPPLIER	S__S_SUPPKEY;S__S_NATIONKEY	Map 3[x_qPART_P__P_PARTKEY,S__S_NATIONKEY]		Map 10[x_qPART_P__P_PARTKEY,S__S_SUPPKEY]
template 9 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 10[PS__PS_PARTKEY,PS__PS_SUPPKEY]		(PS__PS_SUPPLYCOST)*(PS__PS_AVAILQTY)
template 10 PART	P__P_PARTKEY;P__P_MFGR;P__P_TYPE;P__P_SIZE;P__P_CONTAINER;P__P_RETAILPRICE	Map 4[P__P_PARTKEY]		P__P_RETAILPRICE
template 11 SUPPLIER	S__S_SUPPKEY;S__S_NATIONKEY	Map 5[S__S_SUPPKEY,S__S_NATIONKEY]		1.0
template 12 PART	P__P_PARTKEY;P__P_MFGR;P__P_TYPE;P__P_SIZE;P__P_CONTAINER;P__P_RETAILPRICE	Map 6[P__P_PARTKEY]		1.0
template 13 PART	P__P_PARTKEY;P__P_MFGR;P__P_TYPE;P__P_SIZE;P__P_CONTAINER;P__P_RETAILPRICE	Map 7[x_qSUPPLIER_S__S_SUPPKEY]		(P__P_RETAILPRICE)*(Map 9[P__P_PARTKEY,x_qSUPPLIER_S__S_SUPPKEY])
template 14 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 7[PS__PS_SUPPKEY]		(Map 4[PS__PS_PARTKEY])*(PS__PS_AVAILQTY)
template 15 PART	P__P_PARTKEY;P__P_MFGR;P__P_TYPE;P__P_SIZE;P__P_CONTAINER;P__P_RETAILPRICE	Map 8[x_qSUPPLIER_S__S_SUPPKEY]		Map 10[P__P_PARTKEY,x_qSUPPLIER_S__S_SUPPKEY]
template 16 PARTSUPP	PS__PS_PARTKEY;PS__PS_SUPPKEY;PS__PS_AVAILQTY;PS__PS_SUPPLYCOST	Map 8[PS__PS_SUPPKEY]		((PS__PS_SUPPLYCOST)*(PS__PS_AVAILQTY))*(Map 6[PS__PS_PARTKEY])


############ Node Definitions
switch wl10.cac.cornell.edu
switch_forwarders 0
node Node01
address wl11.cac.cornell.edu:52982
partition Map 1[0]
pfile Map 1[0] ~/node0/db_q_primary.db
partition Map 2[0,0]
pfile Map 2[0,0] ~/node0/db_qPART1_primary.db
partition Map 3[0,0]
pfile Map 3[0,0] ~/node0/db_qPART2_primary.db
partition Map 4[0]
pfile Map 4[0] ~/node0/db_qPARTSUPP1_primary.db
partition Map 5[0,0]
pfile Map 5[0,0] ~/node0/db_qPARTSUPP2_primary.db
partition Map 6[0]
pfile Map 6[0] ~/node0/db_qPARTSUPP3_primary.db
partition Map 7[0]
pfile Map 7[0] ~/node0/db_qSUPPLIER1_primary.db
partition Map 8[0]
pfile Map 8[0] ~/node0/db_qSUPPLIER2_primary.db
partition Map 9[0,0]
pfile Map 9[0,0] ~/node0/db_qPART1SUPPLIER1_primary.db
partition Map 10[0,0]
pfile Map 10[0,0] ~/node0/db_qPART2SUPPLIER1_primary.db
node Node02
address wl12.cac.cornell.edu:52982
partition Map 1[1]
pfile Map 1[1] ~/node1/db_q_primary.db
partition Map 2[1,0]
pfile Map 2[1,0] ~/node1/db_qPART1_primary.db
partition Map 3[1,0]
pfile Map 3[1,0] ~/node1/db_qPART2_primary.db
partition Map 4[1]
pfile Map 4[1] ~/node1/db_qPARTSUPP1_primary.db
partition Map 5[1,0]
pfile Map 5[1,0] ~/node1/db_qPARTSUPP2_primary.db
partition Map 6[1]
pfile Map 6[1] ~/node1/db_qPARTSUPP3_primary.db
partition Map 7[1]
pfile Map 7[1] ~/node1/db_qSUPPLIER1_primary.db
partition Map 8[1]
pfile Map 8[1] ~/node1/db_qSUPPLIER2_primary.db
partition Map 9[1,0]
pfile Map 9[1,0] ~/node1/db_qPART1SUPPLIER1_primary.db
partition Map 10[1,0]
pfile Map 10[1,0] ~/node1/db_qPART2SUPPLIER1_primary.db
node Node03
address wl13.cac.cornell.edu:52982
partition Map 1[2]
pfile Map 1[2] ~/node2/db_q_primary.db
partition Map 2[2,0]
pfile Map 2[2,0] ~/node2/db_qPART1_primary.db
partition Map 3[2,0]
pfile Map 3[2,0] ~/node2/db_qPART2_primary.db
partition Map 4[2]
pfile Map 4[2] ~/node2/db_qPARTSUPP1_primary.db
partition Map 5[2,0]
pfile Map 5[2,0] ~/node2/db_qPARTSUPP2_primary.db
partition Map 6[2]
pfile Map 6[2] ~/node2/db_qPARTSUPP3_primary.db
partition Map 7[2]
pfile Map 7[2] ~/node2/db_qSUPPLIER1_primary.db
partition Map 8[2]
pfile Map 8[2] ~/node2/db_qSUPPLIER2_primary.db
partition Map 9[2,0]
pfile Map 9[2,0] ~/node2/db_qPART1SUPPLIER1_primary.db
partition Map 10[2,0]
pfile Map 10[2,0] ~/node2/db_qPART2SUPPLIER1_primary.db
node Node04
address wl14.cac.cornell.edu:52982
partition Map 1[3]
pfile Map 1[3] ~/node3/db_q_primary.db
partition Map 2[3,0]
pfile Map 2[3,0] ~/node3/db_qPART1_primary.db
partition Map 3[3,0]
pfile Map 3[3,0] ~/node3/db_qPART2_primary.db
partition Map 4[3]
pfile Map 4[3] ~/node3/db_qPARTSUPP1_primary.db
partition Map 5[3,0]
pfile Map 5[3,0] ~/node3/db_qPARTSUPP2_primary.db
partition Map 6[3]
pfile Map 6[3] ~/node3/db_qPARTSUPP3_primary.db
partition Map 7[3]
pfile Map 7[3] ~/node3/db_qSUPPLIER1_primary.db
partition Map 8[3]
pfile Map 8[3] ~/node3/db_qSUPPLIER2_primary.db
partition Map 9[3,0]
pfile Map 9[3,0] ~/node3/db_qPART1SUPPLIER1_primary.db
partition Map 10[3,0]
pfile Map 10[3,0] ~/node3/db_qPART2SUPPLIER1_primary.db


############ Test Sequence

persist


############ Slicer Debugging Directives
transform PART[2]~/^[^#]*#([0-9]+)/\1/
transform PART[4]~/^[^#]*#([0-9]+)/\1/
transform PART[6]#
project PART(0,2,4,5,6,7)
project SUPPLIER(0,3)
project PARTSUPP(0,1,2,3)
source ~/tpch/100m
